var app=angular.module("Bakery",["ngStorage","bootstrap.fileField","smart-table","ngCookies","ui.bootstrap","ngFileUpload","xeditable"]).run(["$rootScope","$http",function(a,b){b.get("/api/product").success(function(c){for(var d in c)for(var e in c[d])"Category"===e&&(c[d].CategoryName=c[d][e].CategoryName,c[d].CategoryID=c[d][e].CategoryID,delete c[d].Category);a.products=_.filter(c,{ProductStatus:2}),b.get("/api/category").success(function(b){a.categories=b}).error(function(a){console.log(a)})}).error(function(a){console.log(a)})}]).directive("stSelectDistinct",[function(){return{restrict:"E",require:"^stTable",scope:{collection:"=",predicate:"@",predicateExpression:"="},template:'<select ng-model="selectedOption" class="input-sm form-control" ng-change="optionChanged(selectedOption)" ng-options="opt for opt in distinctItems"></select>',link:function(a,b,c,d){var e=function(){var b=a.predicate;return!b&&a.predicateExpression&&(b=a.predicateExpression),b};a.$watch("collection",function(b){var c=e();if(b){var d=[];a.distinctItems=["All"],angular.forEach(a.collection,function(a){var b=a[c];b&&b.trim().length>0&&-1===d.indexOf(b)&&d.push(b)}),d.sort(),a.distinctItems=a.distinctItems.concat(d),a.selectedOption=a.distinctItems[0],a.optionChanged(a.selectedOption)}},!0),a.optionChanged=function(a){var b=e(),c={};c.distinct=a,"All"===c.distinct&&(c.distinct=""),d.search(c,b)}}}}]).filter("customFilter",["$filter",function(a){var b=a("filter"),c=function(a,b){return b=(""+b).toLowerCase(),(""+a).toLowerCase().indexOf(b)>-1};return function(a,d){function e(a,b){var d,e,f,g,h=b.before,i=b.after,j=b.lower,k=b.higher;if(angular.isObject(b)){if(b.distinct)return!(!a||a.toLowerCase()!==b.distinct.toLowerCase());if(b.matchAny){if(b.matchAny.all)return!0;if(!a)return!1;for(var l=0;l<b.matchAny.items.length;l++)if(a.toLowerCase()===b.matchAny.items[l].toLowerCase())return!0;return!1}if(b.before||b.after)try{return h&&(d=b.before,f=new Date(a),g=new Date(d),f>g)?!1:!(i&&(e=b.after,f=new Date(a),g=new Date(e),g>f))}catch(m){return!1}else if(j||k)return j&&(d=b.lower,a>d)?!1:!(k&&(e=b.higher,e>a));return!0}return c(a,b)}var f=b(a,d,e);return f}}]).filter("range",function(){return function(a,b){b=parseInt(b);for(var c=0;b>c;c++)a.push(c);return a}}).run(["editableOptions",function(a){a.theme="bs3"}]);