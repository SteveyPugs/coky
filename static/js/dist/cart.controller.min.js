app.controller("Cart",["$scope","$localStorage","$sessionStorage","$http","$cookies",function(a,b,c,d,e){e.get("User")&&(a.account=JSON.parse(e.get("User").substring(e.get("User").indexOf("{"),e.get("User").lastIndexOf("}")+1))),d.get("/api/product").success(function(c){for(var d in c)for(var e in c[d])"Category"===e&&(c[d].CategoryName=c[d][e].CategoryName,delete c[d].Category);a.products=c,a.cart=b.cartItems,a.getProduct=function(b){var c=_.find(a.products,function(a){return b==a.ProductID?!0:void 0});return c},a.isEmpty=function(a){return angular.equals({},a)},a.getTotal=function(){a.total=0;for(var b in a.cart){var c=a.getProduct(b);a.total=a.total+c.ProductPrice*a.cart[b].count}},a.removeFromCart=function(c){0!==b.cartCount&&(b.cartCount=b.cartCount-b.cartItems[c.ProductID].count),b.cartItems.hasOwnProperty(c.ProductID)&&delete b.cartItems[c.ProductID],a.getTotal()},a.getTotal()}).error(function(a){console.log(a)})}]);